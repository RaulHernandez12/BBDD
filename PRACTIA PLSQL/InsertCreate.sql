CREATE TABLE SUMINISTROS (
CIFEMPRESA VARCHAR2(9) ,
TIPO VARCHAR2 (2),
MODELO NUMBER (2),
PRECIO_COMPRA NUMBER(11,4),
CONSTRAINT PK_SUMINISTRA PRIMARY KEY (CIFEMPRESA,TIPO,MODELO), 
CONSTRAINT FK_EMPRESA FOREIGN KEY (CIFEMPRESA) REFERENCES EMPRESAS(CIF),
CONSTRAINT FK_PIEZ FOREIGN KEY (TIPO,MODELO) REFERENCES PIEZAS(TIPO,MODELO)
);

CREATE TABLE PIEZAS (
TIPO    VARCHAR2 (2),
MODELO  NUMBER (2),
EXISTENCIAS NUMBER (9),
PRECIO_VENTA NUMBER(11,4),
CONSTRAINT PK_PIEZAS PRIMARY KEY (TIPO,MODELO) 
);

CREATE TABLE EMPRESAS (
CIF VARCHAR2(9) PRIMARY KEY,
NOMBRE VARCHAR2(50),
TELEFONO VARCHAR2(9),
DIRECCION VARCHAR2(50),
LOCALIDAD VARCHAR2(50),
PROVINCIA VARCHAR2(30)
);

INSERT INTO SUMINISTROS VALUES('11111111A','AA',99,1000);
INSERT INTO SUMINISTROS VALUES ('22222222B','BB',89,2000);
INSERT INTO SUMINISTROS VALUES('33333333C','CC',79,3000);
INSERT INTO SUMINISTROS VALUES('44444444D','DD',69,4000);
INSERT INTO SUMINISTROS VALUES ('CIF1','AA',99,2000);

INSERT INTO EMPRESAS VALUES ('11111111A','MEDAC','958800900','CARRETERA DE LA SIERRA','GRANADA','GRANADA');
INSERT INTO EMPRESAS VALUES ('22222222B','EMASAGRA','655600700','AVENIDA MURCIA','LA ZUBIA','GRANADA');
INSERT INTO EMPRESAS VALUES ('33333333C','MERCADONA','800800800','C/ ANTONIO MACHADO','MONACHIL','GRANADA');
INSERT INTO EMPRESAS VALUES ('44444444D','CARREFOUR','700600500','C/ALONSO CANO','ARMILLA','GRANADA');
INSERT INTO EMPRESAS VALUES ('CIF1','MEDAC','780600500','C/PEPE RAMIREZ','ARMILLA','GRANADA');

INSERT INTO PIEZAS VALUES ('AA',99,500,1500);
INSERT INTO PIEZAS VALUES ('BB',89,1000,2500);
INSERT INTO PIEZAS VALUES ('CC',79,2000,3200);
INSERT INTO PIEZAS VALUES ('DD',69,5500,4500);

SELECT * FROM SUMINISTROS;
SELECT * FROM EMPRESAS;
SELECT * FROM PIEZAS;

CREATE TABLE SUMINISTROS_AUDIT (
CIF VARCHAR2(9) ,
TIPO VARCHAR2 (2),
MODELO NUMBER (2),
PRECIO_VIEJO NUMBER(11,4),
PRECIO_NUEVO NUMBER(11,4),
FECHA DATE

);


